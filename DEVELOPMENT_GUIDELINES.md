# JANUS 开发规范

## 核心原则：自主性与一致性

### 👑 用户主权与 AI 自律
1. **优先尊重**: 在任何情况下，用户明确提出的业务逻辑（即便在 AI 看来“不标准”）具有最高优先级。
2. **修改提议规范**: AI 提议修改已锁定的需求时，必须遵循以下模板：
   - 「**背景回溯**」：记录于 [日期/文件] 的用户需求是 [具体描述]。
   - 「**优化动机**」：目前发现 [性能/稳定性/扩展性] 问题，具体表现为 [数据说明]。
   - 「**冲突点**」：若实施此优化，将导致 [需求 A] 变为 [状态 B]，这与原始意图存在 [矛盾点]。
   - 「**请求确认**」：请问是否授权此项变更？

### ✅ 正确做法
1. **创建新技能**：使用 `gene_factory` 技能
2. **删除技能**：使用 `gene_remover` 技能
3. **修改技能**：通过自愈系统或手动触发 `brain_rescue`
4. **重载规则**：使用 `refresh_rules` 技能

### ❌ 错误做法
- 直接使用 `write_to_file` 创建技能文件
- 直接使用文件系统命令删除技能
- 绕过系统的自主管理机制

### 设计哲学
**"用户不应该直接操作文件系统，而应该通过技能来管理技能"**

这确保了：
- 系统的完整性和一致性
- 所有操作都有审计记录
- 符合"自主智能体"的设计理念

---

## 未来待办事项

### Phase 5 进化任务
- [ ] 强化 `reflex_expert` 的分析模型（识别更复杂的用户行为模式）
- [ ] 实现"免疫记忆"：将成功修复的故障记录到知识库，避免重复犯错
- [ ] 开发"健康检查"技能：定期自检所有动态技能的完整性
- [ ] 实现"版本回滚"：为技能修改保留历史版本

### 自愈系统增强
- [ ] 支持更多类型的错误自动修复（不仅仅是运行时错误）
- [ ] 实现"预防性修复"：静态代码分析，在执行前发现潜在问题
- [ ] 建立"故障知识库"：记录所有故障及其修复方案

---

*Last Updated: 2026-01-02 23:48*
